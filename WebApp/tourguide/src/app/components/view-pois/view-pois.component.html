<google-map [options]="mapOptions" height="100%" width="100%" #map>
  <map-marker
    *ngFor="let poi of pois | keyvalue"
    #marker="mapMarker"
    [options]="markerOptions"
    [clickable]="true"
    [position]="toGoogle(poi.value)"
    [title]="poi.value.name"
    [label]="toString(poi.key)"
    (mapMouseover)="openInfoWindow(marker, poi.value)"
    (mapMouseout)="closeInfoWindow()"
    (mapClick)="onEdit(poi.value)"
  >
    <map-info-window id="info-window"></map-info-window>
  </map-marker>
</google-map>

<mat-card id="card" class="scrollable-content">
  <ng-container *ngIf="!loading">
    <mat-card-header>
      <mat-card-title>Meine Points Of Interests</mat-card-title>
      <mat-card-subtitle
        >zum bearbeiten auf den Eintrag oder Marker klicken</mat-card-subtitle
      >
    </mat-card-header>

    <mat-card *ngIf="!hasPois()"
      ><mat-card-content>Keine Pois vorhanden!</mat-card-content></mat-card
    >
    <mat-card-content id="card-content" *ngIf="hasPois()">
      <mat-card (click)="onEdit(poi.value)" *ngFor="let poi of pois | keyvalue"
        ><mat-card-header>
          <mat-card-title>{{ poi.value.name }}</mat-card-title>
          <mat-card-subtitle
            >Marker: {{ poi.key }}
            <button mat-button (click)="onDelete(poi.value)">
              <mat-icon inline="true" color="warn">delete</mat-icon>
            </button>
          </mat-card-subtitle>
        </mat-card-header>
        <mat-card-actions> </mat-card-actions>
      </mat-card>
    </mat-card-content>
  </ng-container>
  <mat-spinner *ngIf="loading"></mat-spinner>
</mat-card>
<button id="btn-new" mat-fab color="accent" (click)="onNew()">
  <mat-icon>add_location</mat-icon>
</button>
